# AI贪吃蛇游戏

一个基于AI智能算法的贪吃蛇游戏，使用Python和pygame开发。项目展现了AI算法、游戏开发、代码工程等多个方面的能力。

## 功能特性

### 核心功能
- **智能AI算法**: 使用A*路径搜索算法，让AI蛇能够智能地寻找食物并避开障碍
- **多种游戏模式**: 支持手动控制和AI自动游戏两种模式
- **可调节AI难度**: 4个难度等级（简单、中等、困难、专家）
- **现代化UI界面**: 简洁美观的游戏界面，支持实时信息显示

### 创新特性
- **AI路径可视化**: 可以显示AI的思考路径（按V键切换）
- **特殊食物系统**: 不同类型的特殊食物提供不同效果
- **智能决策系统**: AI能够根据游戏状态做出最优决策
- **安全策略**: 当无法到达食物时，AI会寻找安全路径

## 快速开始

### 环境要求
- Python 3.7+
- pygame 2.5.2+
- numpy 1.24.3+

### 安装依赖
```bash
pip install -r requirements.txt
```

### 运行游戏
```bash
# 方法1: 直接运行Python文件
python src/main.py

# 方法2: 使用批处理文件（Windows）
run_game.bat
```

## 游戏控制

### 主菜单
- `SPACE`: 开始手动游戏
- `A`: 启用AI模式（中等难度）
- `1-4`: 选择AI难度等级（1=简单, 2=中等, 3=困难, 4=专家）
- `ESC`: 退出游戏

### 游戏中
- `方向键` 或 `WASD`: 控制蛇的移动（仅手动模式）
- `P`: 暂停/继续游戏
- `R`: 重新开始游戏
- `V`: 显示/隐藏AI路径（仅AI模式）
- `ESC`: 返回主菜单

## 项目架构

```
src/
├── main.py              # 主程序入口
├── game/                # 游戏核心模块
│   ├── __init__.py
│   ├── game_engine.py   # 游戏引擎，负责游戏逻辑控制
│   ├── snake.py         # 蛇类，处理蛇的移动和碰撞
│   └── food.py          # 食物类，管理普通和特殊食物
├── ai/                  # AI算法模块
│   ├── __init__.py
│   ├── ai_agent.py      # AI智能体，决策系统
│   └── pathfinding.py   # 路径搜索算法（A*和BFS）
├── ui/                  # 界面模块
│   ├── __init__.py
│   ├── renderer.py      # 渲染器，负责图形绘制
│   └── interface.py     # 用户界面控制器
└── utils/               # 工具模块
    ├── __init__.py
    ├── constants.py     # 游戏常量和配置
    └── helpers.py       # 辅助函数
```

## AI算法详解

### 路径搜索算法
- **A*算法**: 主要路径搜索算法，结合启发式函数寻找最优路径
- **BFS算法**: 备用算法，当A*失败时使用
- **安全策略**: 当无法到达食物时，寻找最安全的移动方向

### AI决策系统
- **多目标优化**: 优先考虑特殊食物，其次考虑普通食物
- **风险评估**: 根据难度等级调整风险容忍度
- **动态规划**: 实时重新规划路径以适应游戏状态变化

### 难度等级
- **简单**: 思考深度1，风险容忍度30%
- **中等**: 思考深度2，风险容忍度50%
- **困难**: 思考深度3，风险容忍度70%
- **专家**: 思考深度4，风险容忍度90%

## 技术亮点

### 代码质量
- **PEP8规范**: 严格遵循Python代码规范
- **类型注解**: 完整的类型提示，提高代码可读性
- **模块化设计**: 清晰的模块分离，易于维护和扩展
- **错误处理**: 完善的异常处理机制

### 游戏设计
- **状态管理**: 清晰的游戏状态转换
- **事件驱动**: 基于pygame事件系统
- **实时渲染**: 流畅的60FPS游戏体验
- **用户友好**: 直观的控制和反馈

## 开发特性

### 可扩展性
- 易于添加新的AI算法
- 支持自定义游戏规则
- 可扩展的UI系统
- 模块化的架构设计

### 调试功能
- AI路径可视化
- 实时游戏状态显示
- 详细的日志输出
- 性能监控
- 日志查看工具

## 项目展示

这个项目展现了以下能力：

1. **AI算法实现**: 复杂的路径搜索和决策算法
2. **游戏开发**: 完整的游戏引擎和渲染系统
3. **代码工程**: 规范的代码结构和文档
4. **用户体验**: 直观的界面设计和交互
5. **创新思维**: AI可视化、特殊食物等创新功能

## 调试和日志

### 日志功能
游戏运行时会自动生成详细的日志文件，保存在 `logs/` 目录下：

- **游戏事件日志**: 记录游戏状态变化、AI决策、用户操作等
- **错误日志**: 记录异常和错误信息
- **性能日志**: 记录游戏性能相关数据

### 查看日志
```bash
# 查看日志摘要
python src/utils/log_viewer.py

# 查看最新日志内容
python src/utils/log_viewer.py latest
```

### 日志级别
- **DEBUG**: 详细的调试信息（AI决策过程、路径规划等）
- **INFO**: 一般信息（游戏状态变化、用户操作等）
- **WARNING**: 警告信息（路径无效、异常情况等）
- **ERROR**: 错误信息（初始化失败、异常等）

